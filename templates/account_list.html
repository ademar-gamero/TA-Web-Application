
<!DOCTYPE html> 
  <html lang="en"> 
  <head> 
      <meta charset="UTF-8">
    <title>Account List</title>
</head>
<style>
th, td {
  border: 1px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 10px;
}
</style>
<body>
<h1 align="center">User Account Roster</h1>
		Filter for:
		<form action="/Home/accountList/" method="post">
		    {% csrf_token %}
		    <table>
		    <tr>
		    <td>Name : <input type="text" name="name" placeholder = "name"></td>
		    <td>Username : <input type="text" name="username" placeholder = "username"></td>
		    <td><label for="roles">Role : </label>
		    <select name="roles" id="roles">
				<option value="">None</option>
				<option value="Admin">Admin</option>
				<option value="Instructor">Instructor</option>
				<option value = "Teacher-Assistant">Teacher Assistant</option>
			</select></td>
			</tr>
			</table>
			<input type="submit" name="input_button" value="Submit">
            {% if usr_role != "Admin"%}
                <input type="submit" name="input_button" value="Show Users Assigned To Your Courses">
            {% endif %}
			<input type="submit" name="input_button" value="Clear Filter">
        </form>
      <br>
      <a href = "/Home/"> Go Home </a>
	<br>
	<div align="center">
		<table style="width:75%; border-collapse: collapse;">
			<tr>
				<th>Username</th>
				<th>Name</th>
                <th>Role</th>
				<th>Email</th>
                <th>Account Assignments</th>
				{% if isAdmin %}
					<th>Phone Number</th>
					<th>Address</th>
					<th>Edit Info</th>
					<th>Delete User</th>
				{% endif %}
			</tr>
			{% for account in account_list %}
				<tr>
					<td>{{account.username}}</td>
					<td>{{account.name}}</td>
                    <td>{{account.role}}</td>
					<td>{{account.email}}</td>
                
                    {% if account.role != "Admin" %}
                        <td><a href = "{% url 'accountAssignment' pk=account.pk %}">{{account.username}}'s Assignments</a></td>
                    {% endif %}
                
                    {% if account.role == "Admin" %}
                        <td> Not Applicable </td>
                    {% endif %}
                
					{% if isAdmin %}
						<td>{{account.phone_number}}</td>
						<td>{{account.address}}</td>
						<td><a href = "{% url 'accountInfo' pk=account.pk %}">edit {{account.username}}</a></td>
                        <td>delete account</td>
					{% endif %}
				</tr>
			{% endfor %}
		</table>
        {% if not account_list %}
            <h3>No accounts found</h3>
        {% endif %}
    </div>
</body>
</html>
